<?xml version="1.0" encoding="UTF-8"?>
<hopsanmodelfile hmfversion="0.4" hopsanguiversion="0.5.x_r3872" hopsancoreversion="0.5.x_r3882">
    <requirements>
        <componentlibrary>HopsanDefaultComponentLibrary</componentlibrary>
        <componentlibrary>PettersComponentLibrary</componentlibrary>
    </requirements>
    <system typename="Subsystem" name="Hydraulic43ValveTest">
        <simulationtime stop="1" timestep="0.001" start="0" inherit_timestep="true"/>
        <aliases/>
        <parameters/>
        <hopsangui>
            <pose x="0" y="0" flipped="false" a="0"/>
            <nametext position="0" visible="1"/>
            <viewport x="2566.05" y="2433.05" zoom="0.842152"/>
            <ports hidden="0"/>
            <names hidden="0"/>
            <scriptfile path=""/>
            <hopsanobjectappearance version="0.3">
                <modelobject typename="Subsystem" displayname="Hydraulic43ValveTest">
                    <icons>
                        <icon path="subsystemDefault.svg" type="defaultmissing"/>
                    </icons>
                    <ports/>
                </modelobject>
            </hopsanobjectappearance>
            <favoritevariables/>
            <optimization>
                <settings>
                    <niter>100</niter>
                    <nsearchp>8</nsearchp>
                    <refcoeff>1.3</refcoeff>
                    <randfac>0.3</randfac>
                    <forgfac>0</forgfac>
                    <functol>1e-05</functol>
                    <partol>0.0001</partol>
                    <plot>true</plot>
                    <savecsv>false</savecsv>
                    <logpar>false</logpar>
                </settings>
                <parameters/>
                <objectives/>
            </optimization>
        </hopsangui>
        <objects>
            <component typename="HydraulicFlowSensor" name="Flow Sensor_3">
                <parameters>
                    <parameter value="0" type="double" name="out::Value"/>
                </parameters>
                <hopsangui>
                    <pose x="2820" y="2455" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="SignalRamp" name="Ramp">
                <parameters>
                    <parameter value="-0.001" type="double" name="y_0"/>
                    <parameter value="0.002" type="double" name="y_A"/>
                    <parameter value="0" type="double" name="t_start"/>
                    <parameter value="1" type="double" name="t_end"/>
                </parameters>
                <hopsangui>
                    <pose x="2274" y="2521" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="SignalSink" name="Sink">
                <parameters/>
                <hopsangui>
                    <pose x="2853" y="2367" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicPressureSourceC" name="C-type Pressure Source_1">
                <parameters>
                    <parameter value="0" type="double" name="P1::Flow"/>
                    <parameter value="1e+007" type="double" name="p"/>
                </parameters>
                <hopsangui>
                    <pose x="2598" y="2459" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicPressureSourceC" name="C-type Pressure Source_2">
                <parameters>
                    <parameter value="0" type="double" name="P1::Flow"/>
                    <parameter value="2e+007" type="double" name="p"/>
                </parameters>
                <hopsangui>
                    <pose x="2447" y="2640" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicPressureSourceC" name="C-type Pressure Source_3">
                <parameters>
                    <parameter value="0" type="double" name="P1::Flow"/>
                    <parameter value="1e5" type="double" name="p"/>
                </parameters>
                <hopsangui>
                    <pose x="2591" y="2639" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicFlowSensor" name="Flow Sensor">
                <parameters>
                    <parameter value="0" type="double" name="out::Value"/>
                </parameters>
                <hopsangui>
                    <pose x="2678" y="2453" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="Hydraulic43Valve" name="4/3 Servo Valve">
                <parameters>
                    <parameter value="0" type="double" name="xv::Value"/>
                    <parameter value="0.67" type="double" name="C_q"/>
                    <parameter value="890" type="double" name="rho"/>
                    <parameter value="0.01" type="double" name="d"/>
                    <parameter value="1" type="double" name="f_pa"/>
                    <parameter value="1" type="double" name="f_pb"/>
                    <parameter value="1" type="double" name="f_at"/>
                    <parameter value="1" type="double" name="f_bt"/>
                    <parameter value="0.01" type="double" name="x_v,max"/>
                    <parameter value="-1e-004" type="double" name="x_pa"/>
                    <parameter value="-1e-004" type="double" name="x_pb"/>
                    <parameter value="-1e-004" type="double" name="x_at"/>
                    <parameter value="-1e-004" type="double" name="x_bt"/>
                    <parameter value="1000" type="double" name="omega_h"/>
                    <parameter value="1" type="double" name="delta_h"/>
                </parameters>
                <hopsangui>
                    <pose x="2508" y="2536" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicFlowSensor" name="Flow Sensor_1">
                <parameters>
                    <parameter value="0" type="double" name="out::Value"/>
                </parameters>
                <hopsangui>
                    <pose x="2729" y="2454" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicPressureSourceC" name="C-type Pressure Source">
                <parameters>
                    <parameter value="0" type="double" name="P1::Flow"/>
                    <parameter value="1e+007" type="double" name="p"/>
                </parameters>
                <hopsangui>
                    <pose x="2453" y="2459" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <component typename="HydraulicFlowSensor" name="Flow Sensor_2">
                <parameters>
                    <parameter value="0" type="double" name="out::Value"/>
                </parameters>
                <hopsangui>
                    <pose x="2777" y="2455" flipped="false" a="0"/>
                    <nametext position="0" visible="1"/>
                </hopsangui>
            </component>
            <textboxwidget>
                <hopsangui>
                    <pose x="2151.290592" y="2353.598947"/>
                    <textobject fontcolor="#556b2f" text="Issus: Start value cannot be set other &#xa;than zero xv due to inputsignal set zero during initialisation." font="Calibri,12,-1,5,50,0,0,0,0,0"/>
                    <size width="407.940000" height="53.000000"/>
                    <line width="2.000000" visible="1" style="solidline"/>
                </hopsangui>
            </textboxwidget>
            <textboxwidget>
                <hopsangui>
                    <pose x="2409.290592" y="2247.598947"/>
                    <textobject fontcolor="#556b2f" text="Test example of a 4/3 directional valve." font="Calibri,16,-1,5,75,0,0,0,0,0"/>
                    <size width="351.000000" height="53.000000"/>
                    <line width="2.000000" visible="1" style="solidline"/>
                </hopsangui>
            </textboxwidget>
        </objects>
        <connections>
            <connect endport="in" endcomponent="4/3 Servo Valve" startport="out" startcomponent="Ramp">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2286.50000000000000000000" y="2521.00000000000000000000"/>
                        <coordinate x="2408.50000000000000000000" y="2521.00000000000000000000"/>
                        <coordinate x="2408.50000000000000000000" y="2546.00000000000000000000"/>
                        <coordinate x="2428.50000000000000000000" y="2546.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="PA" endcomponent="4/3 Servo Valve" startport="P1" startcomponent="C-type Pressure Source">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2453.00000000000000000000" y="2447.00000000000000000000"/>
                        <coordinate x="2453.00000000000000000000" y="2490.00000000000000000000"/>
                        <coordinate x="2517.92160000000012587407" y="2490.00000000000000000000"/>
                        <coordinate x="2517.92160000000012587407" y="2511.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="PB" endcomponent="4/3 Servo Valve" startport="P1" startcomponent="C-type Pressure Source_1">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2598.00000000000000000000" y="2447.00000000000000000000"/>
                        <coordinate x="2598.00000000000000000000" y="2491.00000000000000000000"/>
                        <coordinate x="2537.97150000000010550139" y="2491.00000000000000000000"/>
                        <coordinate x="2537.97150000000010550139" y="2511.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="PP" endcomponent="4/3 Servo Valve" startport="P1" startcomponent="C-type Pressure Source_2">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2447.00000000000000000000" y="2628.00000000000000000000"/>
                        <coordinate x="2447.00000000000000000000" y="2599.00000000000000000000"/>
                        <coordinate x="2517.92160000000012587407" y="2599.00000000000000000000"/>
                        <coordinate x="2517.92160000000012587407" y="2561.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="P1" endcomponent="C-type Pressure Source_3" startport="PT" startcomponent="4/3 Servo Valve">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2537.97150000000010550139" y="2561.00000000000000000000"/>
                        <coordinate x="2537.97150000000010550139" y="2599.00000000000000000000"/>
                        <coordinate x="2591.00000000000000000000" y="2599.00000000000000000000"/>
                        <coordinate x="2591.00000000000000000000" y="2627.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="P1" endcomponent="Flow Sensor" startport="PA" startcomponent="4/3 Servo Valve">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2517.92160000000012587407" y="2511.00000000000000000000"/>
                        <coordinate x="2517.92160000000012587407" y="2499.00000000000000000000"/>
                        <coordinate x="2678.00000000000000000000" y="2499.00000000000000000000"/>
                        <coordinate x="2678.00000000000000000000" y="2471.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="P1" endcomponent="Flow Sensor_1" startport="PB" startcomponent="4/3 Servo Valve">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2537.97150000000010550139" y="2511.00000000000000000000"/>
                        <coordinate x="2537.97150000000010550139" y="2504.00000000000000000000"/>
                        <coordinate x="2729.00000000000000000000" y="2504.00000000000000000000"/>
                        <coordinate x="2729.00000000000000000000" y="2472.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="P1" endcomponent="C-type Pressure Source_2" startport="P1" startcomponent="Flow Sensor_2">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2777.00000000000000000000" y="2473.00000000000000000000"/>
                        <coordinate x="2777.00000000000000000000" y="2587.00000000000000000000"/>
                        <coordinate x="2447.00000000000000000000" y="2587.00000000000000000000"/>
                        <coordinate x="2447.00000000000000000000" y="2628.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="P1" endcomponent="Flow Sensor_3" startport="P1" startcomponent="C-type Pressure Source_3">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2591.00000000000000000000" y="2627.00000000000000000000"/>
                        <coordinate x="2591.00000000000000000000" y="2599.00000000000000000000"/>
                        <coordinate x="2820.00000000000000000000" y="2599.00000000000000000000"/>
                        <coordinate x="2820.00000000000000000000" y="2473.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="in" endcomponent="Sink" startport="out" startcomponent="Flow Sensor">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2678.00000000000000000000" y="2435.00000000000000000000"/>
                        <coordinate x="2678.00000000000000000000" y="2367.00000000000000000000"/>
                        <coordinate x="2833.00000000000000000000" y="2367.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="in" endcomponent="Sink" startport="out" startcomponent="Flow Sensor_1">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2729.00000000000000000000" y="2436.00000000000000000000"/>
                        <coordinate x="2729.00000000000000000000" y="2367.00000000000000000000"/>
                        <coordinate x="2833.00000000000000000000" y="2367.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="in" endcomponent="Sink" startport="out" startcomponent="Flow Sensor_2">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2777.00000000000000000000" y="2437.00000000000000000000"/>
                        <coordinate x="2777.00000000000000000000" y="2367.00000000000000000000"/>
                        <coordinate x="2833.00000000000000000000" y="2367.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="in" endcomponent="Sink" startport="out" startcomponent="Flow Sensor_3">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2820.00000000000000000000" y="2437.00000000000000000000"/>
                        <coordinate x="2820.00000000000000000000" y="2365.00000000000000000000"/>
                        <coordinate x="2833.00000000000000000000" y="2365.00000000000000000000"/>
                        <coordinate x="2833.00000000000000000000" y="2367.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>horizontal</geometry>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
            <connect endport="in_bottom" endcomponent="Sink" startport="xv" startcomponent="4/3 Servo Valve">
                <hopsangui>
                    <coordinates>
                        <coordinate x="2587.50000000000000000000" y="2536.00000000000000000000"/>
                        <coordinate x="2853.00000000000000000000" y="2536.00000000000000000000"/>
                        <coordinate x="2853.00000000000000000000" y="2382.00000000000000000000"/>
                    </coordinates>
                    <geometries>
                        <geometry>vertical</geometry>
                        <geometry>horizontal</geometry>
                    </geometries>
                    <style>solid</style>
                </hopsangui>
            </connect>
        </connections>
    </system>
</hopsanmodelfile>
